import{r as n,u as D,R as e,L as c,e as S}from"./main-faf44e1c.js";import{A,P as F}from"./Other-7d28e6c9.js";import{S as j,F as P}from"./Search-71c98222.js";import{a as N}from"./js.cookie-edb2da2a.js";import"./index-507c5bbd.js";import"./setPrototypeOf-72fdee31.js";function U(){const[u,y]=n.useState([]),[v,p]=n.useState([]),[E,b]=n.useState(1),m=8,{t:r}=D(),[l,f]=n.useState([]);n.useEffect(()=>{const a=N.get("favorites");a&&f(a.split(",").map(Number))},[]),n.useEffect(()=>{(async()=>{try{const s=(await S()).sort((i,o)=>new Date(o.publishDate)-new Date(i.publishDate));y(s),p(s)}catch(t){console.log(t)}})()},[]);const h=a=>{const t=l.includes(a)?l.filter(s=>s!==a):[...l,a];f(t),N.set("favorites",t.join(","),{expires:365})},k=a=>{const t=new Date(a);return t.toDateString()===new Date().toDateString()?t.toLocaleTimeString("default",{hour:"numeric",minute:"numeric"}):t.toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"})},g=E*m,w=v.slice(g-m,g),x=a=>{const{subjects:t,years:s,educations:i}=a,o=u.filter(d=>(!t.length||t.includes(d.subjects.nameSubject))&&(!s.length||s.includes(d.years.year))&&(!i.length||i.includes(d.educations.nameEducation)));p(o),b(1)};return e.createElement("div",{className:"container mt-4"},e.createElement("header",{id:"header",className:"navbar navbar-expand-lg navbar-spacer-y-0 flex-lg-column"},e.createElement("nav",{className:"js-mega-menu flex-grow-1"},e.createElement("div",{className:"collapse navbar-collapse",id:"navbarDoubleLineContainerNavDropdown"},e.createElement("ul",{className:"nav nav-tabs align-items-center"},e.createElement("li",{className:"nav-item"},e.createElement(c,{className:"nav-link",to:"/form","data-placement":"left"},e.createElement("i",{className:"bi bi-house dropdown-item-icon"})," ",r("home"))),e.createElement("li",{className:"nav-item"},e.createElement(c,{className:"nav-link active",to:"/activity","data-placement":"left"},e.createElement("i",{className:"bi bi-activity dropdown-item-icon"})," ",r("activity"))),e.createElement("li",{className:"nav-item"},e.createElement(c,{className:"nav-link",to:"/resources","data-placement":"left"},e.createElement("i",{className:"bi bi-file-earmark-arrow-down dropdown-item-icon"})," ",r("resources"))),e.createElement("li",{className:"nav-item"},e.createElement(c,{className:"nav-link",to:"/tools","data-placement":"left"},e.createElement("i",{className:"bi bi-tools dropdown-item-icon"})," ",r("tool"))))))),e.createElement("main",{className:"card card-body"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header card-header-content-md-between"},e.createElement("div",{className:"mb-2"},e.createElement(j,{posts:u})),e.createElement("div",{className:"d-grid d-sm-flex justify-content-md-end align-items-sm-center"},e.createElement(P,{onFilter:x}),e.createElement(A,null)))),w.map(a=>e.createElement("div",{className:"my-3 p-3 rounded shadow-sm card",key:a.idActivity,style:{borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},e.createElement("div",{className:"d-flex align-items-start"},e.createElement("div",{className:"avatar avatar-sm avatar-circle me-2"},e.createElement("span",{className:"avatar-soft-dark",title:a.users.name},e.createElement("span",{className:"bd-placeholder-img flex-shrink-0 me-2 rounded avatar-initials"},a.users.name.charAt(0).toUpperCase()))),e.createElement("div",{className:"flex-grow-1"},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",{className:"mb-1"},e.createElement("small",{className:"text-muted"},e.createElement(c,{to:`/view-profile/${a.users.idTeacher}`},a.users.name)," | ",k(a.publishDate))),e.createElement("i",{className:`bi ${l.includes(a.idActivity)?"bi-bookmark-fill bookmark":"bi-bookmark bookmark"}`,role:"button",onClick:()=>h(a.idActivity)})),e.createElement("div",null,e.createElement("strong",{className:"text-gray-dark"},a.title)),e.createElement("div",null,e.createElement("span",{className:"text-gray-dark"},a.description.length>200?`${a.description.substring(0,200)}...`:a.description)),e.createElement("div",{className:"mb-2"},e.createElement("span",{className:"badge bg-primary me-1"},a.subjects.nameSubject),e.createElement("span",{className:"badge bg-success me-1"},a.educations.nameEducation),e.createElement("span",{className:"badge bg-warning"},a.years.year)),e.createElement("div",{className:"d-flex align-items-center"},e.createElement(c,{to:`/activity/view-activity/${a.idActivity}`,className:"link"},r("more"))))))),e.createElement(F,{postsPerPage:m,totalPosts:v.length,paginate:b,currentPage:E})))}export{U as default};
