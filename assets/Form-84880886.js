import{r as c,u as h,R as e,L as s,d as k,e as x}from"./main-faf44e1c.js";import{a as p}from"./js.cookie-edb2da2a.js";function j(){const[E,b]=c.useState([]),[N,g]=c.useState([]),[n,d]=c.useState([]),{t:l}=h(),u=a=>{let t=[...n];n.includes(a)?t=t.filter(r=>r!==a):t.push(a),d(t),p.set("favorites",t.join(","),{expires:365})};c.useEffect(()=>{const a=p.get("favorites");a&&d(a.split(",").map(Number))},[]),c.useEffect(()=>{(async()=>{try{const[t,r]=await Promise.all([k(),x()]),i=r.sort((m,o)=>new Date(o.publishDate)-new Date(m.publishDate)),y=t.sort((m,o)=>new Date(o.publishDate)-new Date(m.publishDate));g(y),b(i)}catch(t){console.log(t)}})()},[]);const v=a=>{const t=new Date(a),r=new Date;return t.toDateString()===r.toDateString()?t.toLocaleTimeString("default",{hour:"numeric",minute:"numeric"}):t.toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"})},f=a=>{if(a===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(a)/Math.log(t));return parseFloat((a/Math.pow(t,i)).toFixed(2))+" "+r[i]};return e.createElement("div",{className:"container mt-4"},e.createElement("header",{id:"header",className:"navbar navbar-expand-lg navbar-spacer-y-0 flex-lg-column"},e.createElement("nav",{className:"js-mega-menu flex-grow-1"},e.createElement("div",{className:"collapse navbar-collapse",id:"navbarDoubleLineContainerNavDropdown"},e.createElement("ul",{className:"nav nav-tabs align-items-center"},e.createElement("li",{className:"nav-item"},e.createElement(s,{className:"nav-link active",to:"/form","data-placement":"left"},e.createElement("i",{className:"bi bi-house dropdown-item-icon"})," ",l("home"))),e.createElement("li",{className:"nav-item"},e.createElement(s,{className:"nav-link",to:"/activity","data-placement":"left"},e.createElement("i",{className:"bi bi-activity dropdown-item-icon"})," ",l("activity"))),e.createElement("li",{className:"nav-item"},e.createElement(s,{className:"nav-link",to:"/resources","data-placement":"left"},e.createElement("i",{className:"bi bi-file-earmark-arrow-down dropdown-item-icon"})," ",l("resources"))),e.createElement("li",{className:"nav-item"},e.createElement(s,{className:"nav-link",to:"/tools","data-placement":"left"},e.createElement("i",{className:"bi bi-tools dropdown-item-icon"})," ",l("tool"))))))),e.createElement("main",{className:"card card-body"},E.slice(0,3).map((a,t)=>e.createElement("div",{className:"my-3 p-3 rounded shadow-sm card",key:t,style:{borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},e.createElement("div",{className:"d-flex align-items-start"},e.createElement("div",{className:"avatar avatar-sm avatar-circle me-2"},e.createElement("span",{className:"avatar-soft-dark",title:a.users.name},e.createElement("span",{className:"bd-placeholder-img flex-shrink-0 me-2 rounded avatar-initials"},a.users.name.charAt(0).toUpperCase()))),e.createElement("div",{className:"flex-grow-1"},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",{className:"mb-1"},e.createElement("small",{className:"text-muted"},e.createElement(s,{to:`/view-profile/${a.users.idTeacher}`},a.users.name)," | ",v(a.publishDate))),e.createElement("i",{className:`bi ${n.includes(a.idActivity)?"bi-bookmark-fill bookmark":"bi-bookmark bookmark"}`,role:"button",onClick:()=>u(a.idActivity)})),e.createElement("div",{className:"d-flex justify-content-between"},e.createElement("strong",{className:"text-gray-dark"},a.title)),e.createElement("div",{className:"d-flex justify-content-between"},e.createElement("span",{className:"text-gray-dark"},a.description.length>200?`${a.description.substring(0,200)}...`:a.description)),e.createElement("div",{className:"mb-2"},e.createElement("span",{className:"badge bg-primary me-1"},a.subjects.nameSubject),e.createElement("span",{className:"badge bg-success me-1"},a.educations.nameEducation),e.createElement("span",{className:"badge bg-warning"},a.years.year)),e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement(s,{to:`/activity/view-activity/${a.idActivity}`,className:"link"},l("more"))))))),N.slice(0,3).map(a=>e.createElement("div",{className:"my-3 p-3 rounded shadow-sm card",key:a.idResource,style:{borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},e.createElement("div",{className:"d-flex align-items-start"},e.createElement("div",{className:"avatar avatar-sm avatar-circle me-2"},e.createElement("span",{className:"avatar-soft-dark",title:a.users.name},e.createElement("span",{className:"bd-placeholder-img flex-shrink-0 me-2 rounded avatar-initials"},a.users.name.charAt(0).toUpperCase()))),e.createElement("div",{className:"flex-grow-1"},e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",{className:"mb-1"},e.createElement("small",{className:"text-muted"},e.createElement(s,{to:`/profile/view-profile/${a.users.idTeacher}`},a.users.name)," | ",v(a.publishDate))),e.createElement("i",{className:`bi ${n.includes(a.idResource)?"bi-bookmark-fill bookmark":"bi-bookmark bookmark"}`,role:"button",onClick:()=>u(a.idResource)})),e.createElement("div",{className:"d-flex justify-content-between"},e.createElement("strong",{className:"text-gray-dark"},a.title)),e.createElement("div",{className:"d-flex justify-content-between"},e.createElement("span",{className:"text-gray-dark"},a.description.length>200?`${a.description.substring(0,200)}...`:a.description)),e.createElement("span",{className:"badge bg-secondary mb-2"},a.type),a.type==="Ficheiro"?e.createElement("div",{className:"card p-3"},e.createElement("li",{className:"list-group-item"},e.createElement("div",{className:"row align-items-center"},e.createElement("div",{className:"col-auto"},e.createElement("img",{className:"avatar avatar-xs avatar-4x3",src:"../assets/svg/illustrations/placeholder-img-format.svg",alt:"Img"})),e.createElement("div",{className:"col"},e.createElement("h5",{className:"mb-0",title:l("download")},e.createElement(s,{to:`http://localhost:8081/api/files/${a.fileName}`,download:!0},a.fileName)),e.createElement("ul",{className:"list-inline list-separator small text-body"},e.createElement("li",{className:"list-inline-item"},l("file_size")," ",f(a.fileSize))))))):null,e.createElement("div",{className:"mb-2"}),e.createElement("div",{className:"d-flex align-items-center"},e.createElement(s,{to:`/resource/view-resource/${a.idResource}`,className:"link"},l("more")))))))))}export{j as default};
