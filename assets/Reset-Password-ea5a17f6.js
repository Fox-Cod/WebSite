import{r as s,n as R,u as b,q as h,v as N}from"./main-faf44e1c.js";function _(){const[t,i]=s.useState(""),[c,d]=s.useState(""),[r,p]=s.useState({}),[w,o]=s.useState(""),v=R(),{t:a,i18n:g}=b(),l=new URLSearchParams(window.location.search).get("token");s.useEffect(()=>{(async()=>{try{(await h(l)).success||o("Invalid or expired token")}catch{o(React.createElement("p",{className:"text-center"},React.createElement("span",{className:"text-danger"},a("text_info_reset_password_1")," "),React.createElement("br",null),a("text_info_reset_password_2")))}})()},[l]);const f=()=>{const e={};return(!t||t.length<8)&&(e.password="A nova senha deve ter pelo menos 8 caracteres."),t!==c&&(e.confPassword="As novas senhas nÃ£o coincidem."),p(e),Object.keys(e).length===0},u=async e=>{var n,m;if(e.preventDefault(),!!f())try{await N(l,t,c),v("/sign-in")}catch(E){o(((m=(n=E.response)==null?void 0:n.data)==null?void 0:m.message)||"Erro no servidor")}};return React.createElement("main",{id:"content",role:"main",className:"main"},React.createElement("div",{className:"container py-5 py-sm-7 mt-10"},React.createElement("div",{className:"mx-auto",style:{maxWidth:"30rem"}},React.createElement("div",{className:"card card-lg mb-5"},React.createElement("div",{className:"card-body"},React.createElement("form",{onSubmit:u},React.createElement("div",{className:"text-center mb-5"},React.createElement("h1",{className:"display-5"},a("change_your_password"))),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"form-label w-100",htmlFor:"password-novo"},a("new_password")),React.createElement("input",{type:"password",className:`form-control ${r.password?"is-invalid":""}`,id:"password-novo",placeholder:a("password"),value:t,onChange:e=>i(e.target.value)}),React.createElement("span",{className:"invalid-feedback"},r.password)),React.createElement("div",{className:"mb-4"},React.createElement("label",{className:"form-label w-100",htmlFor:"password-novo-con"},a("confirm_password")),React.createElement("input",{type:"password",className:`form-control ${r.confPassword?"is-invalid":""}`,id:"password-novo-con",placeholder:a("confirm_password"),value:c,onChange:e=>d(e.target.value)}),React.createElement("span",{className:"invalid-feedback"},r.confPassword)),w,React.createElement("div",{className:"d-grid"},React.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},a("confirm")))))))))}export{_ as default};
