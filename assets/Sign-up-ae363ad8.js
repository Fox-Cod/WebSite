import{r as c,u as N,n as b,R as e,L as w,Z as y,h as x}from"./main-faf44e1c.js";function _(){const[n,p]=c.useState({}),[l,u]=c.useState({}),[s,v]=c.useState({name:"",email:"",password:"",confirmPassword:"",group:"",school:""}),{t,i18n:S}=N(),E=b(),f=()=>{const a={};return(!s.name||s.name.length<4)&&(a.name="O nome deve ter pelo menos 4 caracteres."),(!s.email||!s.email.includes("@"))&&(a.email="Introduza um endereço de correio eletrónico válido."),(!s.password||s.password.length<8)&&(a.password="A palavra-passe deve ter pelo menos 8 caracteres."),s.password!==s.confirmPassword&&(a.confirmPassword="As palavras-passe não correspondem."),s.group||(a.group="Seleccione um grupo válido."),s.school||(a.school="Selecionar uma escola válida."),u(a),Object.keys(a).length===0},o=a=>{const{id:r,value:i}=a.target,d=n.groups.find(m=>m.nameGroup===i);v(m=>({...m,[r]:i,idGroup:d?d.codGroup:null}))},h=async a=>{if(a.preventDefault(),f())try{await y(s),E("/sign-in")}catch(r){console.error("Error submitting data to the server:",r)}else console.log("Form validation failed.")},g=async()=>{try{const a=await x();p(a)}catch(a){console.error("Error fetching view data:",a)}};return c.useEffect(()=>{g()},[]),e.createElement("div",null,e.createElement("main",{id:"content",role:"main",className:"main"},e.createElement("div",{className:"container py-5 py-sm-7 "},e.createElement("div",{className:"mx-auto",style:{maxWidth:"30rem"}},e.createElement("div",{className:"card card-lg mb-5"},e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:h},e.createElement("div",{className:"text-center"},e.createElement("div",{className:"mb-5"},e.createElement("h1",{className:"display-5"},"Sign Up"))),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"name",className:"form-label"},t("name")),e.createElement("input",{type:"text",className:`form-control ${l.name?"is-invalid":""}`,id:"name",placeholder:"Tiago Lopes",value:s.name,onChange:o}),e.createElement("span",{className:"invalid-feedback"},l.name)),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"email",className:"form-label"},t("email")),e.createElement("input",{type:"text",className:`form-control ${l.email?"is-invalid":""}`,id:"email",placeholder:"example@example.com",value:s.email,onChange:o}),e.createElement("span",{className:"invalid-feedback"},l.email)),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"password",className:"form-label"},e.createElement("span",null,t("password"))),e.createElement("input",{type:"password",className:`form-control ${l.password?"is-invalid":""}`,id:"password",placeholder:"Password",value:s.password,onChange:o}),e.createElement("span",{className:"invalid-feedback"},l.password)),e.createElement("div",{className:"mb-4"},e.createElement("label",{htmlFor:"confirmPassword",className:"form-label"},e.createElement("span",null,t("confirm_password"))),e.createElement("input",{type:"password",className:`form-control ${l.confirmPassword?"is-invalid":""}`,id:"confirmPassword",placeholder:"Confirmar a password",value:s.confirmPassword,onChange:o}),e.createElement("span",{className:"invalid-feedback"},l.confirmPassword)),e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"form-label"},t("group")),e.createElement("select",{className:`form-control ${l.group?"is-invalid":""}`,id:"group",value:s.group,onChange:o},e.createElement("option",{value:""},"Qualquer"),n.groups&&n.groups.map((a,r)=>e.createElement("option",{key:r,value:a.idGroup},a.codGroup," ",a.nameGroup))),e.createElement("span",{className:"invalid-feedback"},l.group)),e.createElement("div",{className:"mb-4"},e.createElement("label",{className:"form-label"},t("school")),e.createElement("select",{className:`form-control ${l.school?"is-invalid":""}`,id:"school",value:s.school,onChange:o},e.createElement("option",{value:""},"Qualquer"),n.schools&&n.schools.map((a,r)=>e.createElement("option",{key:r,value:a.idSchool},a.nameSchool))),e.createElement("span",{className:"invalid-feedback"},l.school)),e.createElement("p",{className:"text-center"},t("text_info_sign_up_1")," ",e.createElement(w,{className:"link",to:"/sign-in"},t("text_info_sign_up_2"))),e.createElement("div",{className:"d-grid"},e.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},t("sign_in"))))))))))}export{_ as default};
