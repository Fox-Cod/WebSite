import{r as c,C as R,u as L,R as e,L as m,f as M,t as A}from"./main-faf44e1c.js";import{c as O,d as _}from"./Search-71c98222.js";import{P as $}from"./Other-7d28e6c9.js";import"./setPrototypeOf-72fdee31.js";import"./index-507c5bbd.js";function H(){const{user:x}=c.useContext(R),[p,w]=c.useState([]),[b,N]=c.useState([]),[v,g]=c.useState(1),[i]=c.useState(10),[l,C]=c.useState({title:"",link:"",about:"",application:"Redes sociais e plataformas de ligação em rede",type:"Apresentações e documentos",state:"Sem dados"}),[f,d]=c.useState(""),{t,i18n:z}=L(),o=({target:{id:a,value:s}})=>C(n=>({...n,[a]:s})),k=async a=>{if(a.preventDefault(),!l.title.trim()||!l.link.trim()||!l.about.trim()){d("Preencha todos os campos obrigatórios.");return}try{await M(l),d(""),h()}catch(s){console.error(s),d("Ocorreu um erro ao adicionar a ferramenta.")}},h=async()=>{try{const a=await A();w(a),N(a)}catch(a){console.log(a)}};c.useEffect(()=>{h()},[]);const P=a=>{const n={"Não está a funcionar":"danger","Está a funcionar":"success","Sem dados":"warning"}[a]||"secondary";return e.createElement("span",{className:`badge bg-soft-${n} text-${n} rounded-pill`},e.createElement("span",{className:`legend-indicator bg-${n}`})," ",a)},y=v*i,S=y-i,D=b.slice(S,y),T=a=>g(a),F=a=>{const{type:s,application:n}=a,E=p.filter(r=>(!s.length||s.includes(r.type))&&(!n.length||n.includes(r.application)));N(E),g(1)};return e.createElement("div",{className:"container mt-4"},e.createElement("header",{id:"header",className:"navbar navbar-expand-lg navbar-spacer-y-0 flex-lg-column"},e.createElement("nav",{className:"js-mega-menu flex-grow-1"},e.createElement("div",{className:"collapse navbar-collapse",id:"navbarDoubleLineContainerNavDropdown"},e.createElement("ul",{className:"nav nav-tabs align-items-center"},e.createElement("li",{className:"nav-item"},e.createElement(m,{className:"nav-link",to:"/form","data-placement":"left"},e.createElement("i",{className:"bi bi-house dropdown-item-icon"})," ",t("home"))),e.createElement("li",{className:"nav-item"},e.createElement(m,{className:"nav-link",to:"/activity","data-placement":"left"},e.createElement("i",{className:"bi bi-activity dropdown-item-icon"})," ",t("activity"))),e.createElement("li",{className:"nav-item"},e.createElement(m,{className:"nav-link",to:"/resources","data-placement":"left"},e.createElement("i",{className:"bi bi-file-earmark-arrow-down dropdown-item-icon"})," ",t("resources"))),e.createElement("li",{className:"nav-item"},e.createElement(m,{className:"nav-link active",to:"/tools","data-placement":"left"},e.createElement("i",{className:"bi bi-tools dropdown-item-icon"})," ",t("tool"))))))),e.createElement("main",{className:"card card-body"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header card-header-content-md-between"},e.createElement("div",{className:"mb-2"},e.createElement(O,{posts:p})),e.createElement("div",{className:"d-grid d-sm-flex justify-content-md-end align-items-sm-center"},e.createElement(_,{onFilter:F}),x._defaultRole==="administrador"&&e.createElement("button",{type:"button",className:"btn btn-white btn-sm","data-bs-toggle":"modal","data-bs-target":"#addTools"},e.createElement("i",{className:"bi-plus-circle"})," ",t("tool")))),e.createElement("div",{className:"table-responsive"},e.createElement("table",{className:"table table-lg table-borderless table-thead-bordered table-nowrap card-table"},e.createElement("thead",{className:"thead-light"},e.createElement("tr",null,e.createElement("th",null,t("tool")),e.createElement("th",null,t("application")),e.createElement("th",null,t("type")),e.createElement("th",null,t("state")),e.createElement("th",null,t("about_the_App")))),e.createElement("tbody",null,D.map(({id:a,title:s,link:n,application:E,type:r,state:j,about:u})=>e.createElement("tr",{key:a},e.createElement("td",null,e.createElement(m,{className:"d-flex align-items-center",to:n},e.createElement("span",{className:"d-block h5 text-inherit mb-0"},s))),e.createElement("td",null,e.createElement("span",{className:"badge bg-soft-primary text-primary rounded-pill"},E)),e.createElement("td",null,e.createElement("span",{className:"badge bg-soft-secondary text-secondary rounded-pill"},r)),e.createElement("td",null,P(j)),e.createElement("td",{title:u},u.slice(0,50),u.length>50&&"..."))))))),e.createElement($,{dataPerPage:i,totalDatas:b.length,currentPage:v,paginate:T})),e.createElement("div",{className:"modal fade",id:"addTools",tabIndex:"-1",role:"dialog","aria-hidden":"true"},e.createElement("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document"},e.createElement("div",{className:"modal-content"},e.createElement("div",{className:"modal-close"},e.createElement("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})),e.createElement("form",{onSubmit:k},e.createElement("div",{className:"modal-body"},e.createElement("textarea",{id:"title",className:"form-control form-control-title",placeholder:"Name",value:l.title,onChange:o}),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-sm-3 mb-2 mb-sm-0"},e.createElement("div",{className:"d-flex align-items-center mt-2"},e.createElement("i",{className:"bi bi-link nav-icon"}),e.createElement("div",{className:"flex-grow-1"},t("link")))),e.createElement("div",{className:"col-sm"},e.createElement("input",{id:"link",className:"form-control",placeholder:"https:/example.com/",value:l.link,onChange:o}))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-sm-3 mb-2 mb-sm-0"},e.createElement("div",{className:"d-flex align-items-center mt-2"},e.createElement("i",{className:"bi-text-left nav-icon"}),e.createElement("div",{className:"flex-grow-1"},t("about")))),e.createElement("div",{className:"col-sm"},e.createElement("textarea",{id:"about",className:"form-control",placeholder:"Discription",value:l.about,onChange:o}))),e.createElement("div",{className:"row mb-4"},e.createElement("div",{className:"col-sm-3 mb-2 mb-sm-0"},e.createElement("div",{className:"d-flex align-items-center mt-2"},e.createElement("i",{className:"bi bi-book nav-icon"}),e.createElement("div",{className:"flex-grow-1"},t("application")))),e.createElement("div",{className:"col-sm"},e.createElement("div",{className:"tom-select-custom"},t("application"),e.createElement("select",{className:"js-select form-select",autoComplete:"off",id:"application",value:l.application,onChange:o},e.createElement("option",null,"Redes sociais e plataformas de ligação em rede"),e.createElement("option",null,"Computação em nuvem e armazenamento de dados"),e.createElement("option",null,"Educação e formação em linha")))),e.createElement("div",{className:"col-sm"},e.createElement("div",{className:"tom-select-custom"},t("type"),e.createElement("select",{className:"js-select form-select",autoComplete:"off",id:"type",value:l.type,onChange:o},e.createElement("option",null,"Apresentações e documentos"),e.createElement("option",null,"Design gráfico e edição de imagens"),e.createElement("option",null,"Vídeo e montagem"),e.createElement("option",null,"Colaboração em linha e gestão de projectos"),e.createElement("option",null,"Áudio e Podcasting")))),e.createElement("div",{className:"col-sm"},e.createElement("div",{className:"tom-select-custom"},t("state"),e.createElement("select",{className:"js-select form-select",autoComplete:"off",id:"state",value:l.state,onChange:o},e.createElement("option",null,"Sem dados"),e.createElement("option",null,"Está a funcionar"),e.createElement("option",null,"Não está a funcionar"))))),f&&e.createElement("div",{className:"text-danger"},f)),e.createElement("div",{className:"modal-footer gap-3"},e.createElement("button",{type:"button",id:"discardFormt",className:"btn btn-white","data-bs-dismiss":"modal"}," ",t("cancel")," "),e.createElement("button",{type:"submit",id:"processEvent",className:"btn btn-primary"}," ",t("save")," ")))))))}export{H as default};
