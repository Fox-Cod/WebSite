import{r,u as h,R as e,L as b,w as g,h as y,x as w}from"./main-faf44e1c.js";function _(){var d,v,p;const[m,E]=r.useState({}),[l,i]=r.useState({}),[s,u]=r.useState({name:"",group:"",school:""}),{t:c}=h();r.useEffect(()=>{(async()=>{try{const t=await g();i(t.profile)}catch(t){console.error(t)}})()},[]),r.useEffect(()=>{(async()=>{try{const t=await y();E(t)}catch(t){console.error(t)}})()},[]);const n=a=>{const{id:t,value:o}=a.target;u(f=>({...f,[t]:o}))},N=async a=>{a.preventDefault();try{const t={name:s.name||l.name,group:s.group||l.idGroup,school:s.school||l.idSchool},o=await w(t);window.location.reload(),i(o.data.profile)}catch(t){console.error(t)}};return e.createElement("div",null,e.createElement("main",{id:"content",role:"main",className:"main"},e.createElement("div",{className:"content container-fluid"},e.createElement("div",{className:"row justify-content-lg-center"},e.createElement("div",{className:"col-lg-10"},e.createElement("div",{className:"profile-cover"},e.createElement("div",{className:"profile-cover-img-wrapper"},e.createElement("img",{className:"profile-cover-img",src:"../assets/img/1920x400/img1.jpg",alt:"Profile Cover"}))),e.createElement("div",{className:"text-center mb-5"},e.createElement("div",{className:"avatar avatar-xxl avatar-circle profile-cover-avatar"},e.createElement("span",{className:"bd-placeholder rounded avatar-initials"},(d=l==null?void 0:l.name)==null?void 0:d.charAt(0).toUpperCase()),e.createElement("span",{className:"avatar-status avatar-status-success"})),e.createElement("h1",{className:"page-header-title"},l.name)),e.createElement("div",{className:"row"},e.createElement("div",{className:"col-lg-3"},e.createElement("div",{className:"navbar-expand-lg navbar-vertical mb-3 mb-lg-5"},e.createElement("div",{id:"navbarVerticalNavMenu",className:"collapse navbar-collapse"},e.createElement("ul",{className:"card card-navbar-nav nav nav-tabs nav-lg nav-vertical"},e.createElement("li",{className:"nav-item"},e.createElement("a",{className:"nav-link active",href:"#content"},e.createElement("i",{className:"bi-person nav-icon"})," ",c("user_info"))),e.createElement("li",{className:"nav-item"},e.createElement("a",{className:"nav-link",href:"#passwordSection"},e.createElement("i",{className:"bi-key nav-icon"})," ",c("password"))))))),e.createElement("div",{className:"col-lg-9"},e.createElement("div",{className:"d-grid gap-3 gap-lg-5"},e.createElement("div",{className:"card"},e.createElement("div",{className:"card-header"},e.createElement("h2",{className:"card-title"},c("user_info"))),e.createElement("div",{className:"card-body"},e.createElement("form",{onSubmit:N},e.createElement("div",{className:"row mb-4"},e.createElement("label",{className:"col-sm-3 col-form-label form-label"},c("name")),e.createElement("div",{className:"col-sm-9"},e.createElement("input",{type:"text",className:"form-control",id:"name",placeholder:l.name,value:s.name,onChange:n}))),e.createElement("div",{className:"row mb-4"},e.createElement("label",{className:"col-sm-3 col-form-label form-label"},c("group")),e.createElement("div",{className:"col-sm-9"},e.createElement("select",{className:"form-control",id:"group",value:s.group||l.idGroup,onChange:n},e.createElement("option",{disabled:!0},l.nameGroup),e.createElement("option",{disabled:!0},"-- ",c("text_info_settings_1")," --"),(v=m.groups)==null?void 0:v.map(a=>e.createElement("option",{key:a.idGroup,value:a.idGroup},a.codGroup," ",a.nameGroup))))),e.createElement("div",{className:"row mb-4"},e.createElement("label",{className:"col-sm-3 col-form-label form-label"},c("school")),e.createElement("div",{className:"col-sm-9"},e.createElement("select",{className:"form-control",id:"school",value:s.school||l.idSchool,onChange:n},e.createElement("option",{disabled:!0},l.nameSchool),e.createElement("option",{disabled:!0},"-- ",c("text_info_settings_1")," --"),(p=m.schools)==null?void 0:p.map(a=>e.createElement("option",{key:a.idSchool,value:a.idSchool},a.nameSchool))))),e.createElement("div",{className:"d-flex justify-content-end"},e.createElement("button",{type:"submit",className:"btn btn-primary"},c("save_changes")))))),e.createElement("div",{id:"passwordSection",className:"card"},e.createElement("div",{className:"card-header"},e.createElement("h4",{className:"card-title"},c("text_info_settings_3"))),e.createElement("div",{className:"card-body"},e.createElement("p",{className:"fs-5"},c("text_info_settings_4")),e.createElement("div",{className:"d-flex justify-content-end"},e.createElement(b,{className:"btn btn-primary",to:"/password-reset-email"},c("change_your_password")))))))))))))}export{_ as default};
