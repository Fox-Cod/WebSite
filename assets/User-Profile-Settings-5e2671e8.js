import{r as n,u as N,j as s,L as f,w as b,g,x as w}from"./index-08ea0f83.js";function S(){var m,h,x;const[t,v]=n.useState({}),[l,d]=n.useState({}),[r,p]=n.useState({name:"",group:"",school:""}),{t:c}=N();n.useEffect(()=>{(async()=>{try{const e=await b();d(e.profile)}catch(e){console.error(e)}})()},[]),n.useEffect(()=>{(async()=>{try{const e=await g();v(e)}catch(e){console.error(e)}})()},[]);const o=a=>{const{id:e,value:i}=a.target;p(u=>({...u,[e]:i}))},j=async a=>{a.preventDefault();try{const e={name:r.name||l.name,group:r.group||l.idGroup,school:r.school||l.idSchool},i=await w(e);window.location.reload(),d(i.data.profile)}catch(e){console.error(e)}};return s.jsx("div",{children:s.jsx("main",{id:"content",role:"main",className:"main",children:s.jsx("div",{className:"content container-fluid",children:s.jsx("div",{className:"row justify-content-lg-center",children:s.jsxs("div",{className:"col-lg-10",children:[s.jsx("div",{className:"profile-cover",children:s.jsx("div",{className:"profile-cover-img-wrapper",children:s.jsx("img",{className:"profile-cover-img",src:"../assets/img/1920x400/img1.jpg",alt:"Profile Cover"})})}),s.jsxs("div",{className:"text-center mb-5",children:[s.jsxs("div",{className:"avatar avatar-xxl avatar-circle profile-cover-avatar",children:[s.jsx("span",{className:"bd-placeholder rounded avatar-initials",children:(m=l==null?void 0:l.name)==null?void 0:m.charAt(0).toUpperCase()}),s.jsx("span",{className:"avatar-status avatar-status-success"})]}),s.jsx("h1",{className:"page-header-title",children:l.name})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-lg-3",children:s.jsx("div",{className:"navbar-expand-lg navbar-vertical mb-3 mb-lg-5",children:s.jsx("div",{id:"navbarVerticalNavMenu",className:"collapse navbar-collapse",children:s.jsxs("ul",{className:"card card-navbar-nav nav nav-tabs nav-lg nav-vertical",children:[s.jsx("li",{className:"nav-item",children:s.jsxs("a",{className:"nav-link active",href:"#content",children:[s.jsx("i",{className:"bi-person nav-icon"})," ",c("user_info")]})}),s.jsx("li",{className:"nav-item",children:s.jsxs("a",{className:"nav-link",href:"#passwordSection",children:[s.jsx("i",{className:"bi-key nav-icon"})," ",c("password")]})})]})})})}),s.jsx("div",{className:"col-lg-9",children:s.jsxs("div",{className:"d-grid gap-3 gap-lg-5",children:[s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h2",{className:"card-title",children:c("user_info")})}),s.jsx("div",{className:"card-body",children:s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"row mb-4",children:[s.jsx("label",{className:"col-sm-3 col-form-label form-label",children:c("name")}),s.jsx("div",{className:"col-sm-9",children:s.jsx("input",{type:"text",className:"form-control",id:"name",placeholder:l.name,value:r.name,onChange:o})})]}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("label",{className:"col-sm-3 col-form-label form-label",children:c("group")}),s.jsx("div",{className:"col-sm-9",children:s.jsxs("select",{className:"form-control",id:"group",value:r.group||l.idGroup,onChange:o,children:[s.jsx("option",{disabled:!0,children:l.nameGroup}),s.jsxs("option",{disabled:!0,children:["-- ",c("text_info_settings_1")," --"]}),(h=t.groups)==null?void 0:h.map(a=>s.jsxs("option",{value:a.idGroup,children:[a.codGroup," ",a.nameGroup]},a.idGroup))]})})]}),s.jsxs("div",{className:"row mb-4",children:[s.jsx("label",{className:"col-sm-3 col-form-label form-label",children:c("school")}),s.jsx("div",{className:"col-sm-9",children:s.jsxs("select",{className:"form-control",id:"school",value:r.school||l.idSchool,onChange:o,children:[s.jsx("option",{disabled:!0,children:l.nameSchool}),s.jsxs("option",{disabled:!0,children:["-- ",c("text_info_settings_1")," --"]}),(x=t.schools)==null?void 0:x.map(a=>s.jsx("option",{value:a.idSchool,children:a.nameSchool},a.idSchool))]})})]}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx("button",{type:"submit",className:"btn btn-primary",children:c("save_changes")})})]})})]}),s.jsxs("div",{id:"passwordSection",className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h4",{className:"card-title",children:c("text_info_settings_3")})}),s.jsxs("div",{className:"card-body",children:[s.jsx("p",{className:"fs-5",children:c("text_info_settings_4")}),s.jsx("div",{className:"d-flex justify-content-end",children:s.jsx(f,{className:"btn btn-primary",to:"/password-reset-email",children:c("change_your_password")})})]})]})]})})]})]})})})})})}export{S as default};
